# ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: OnConnectedToMaster() –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

## üîç –ß—Ç–æ –≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö:

```
[PhotonNetworkManager] Calling PhotonNetwork.ConnectUsingSettings()...
[PhotonNetworkManager] ConnectUsingSettings() called. Waiting for OnConnectedToMaster() callback...
```

**–ù–û:** `OnConnectedToMaster()` **–ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Photon –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º!

---

## ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

### 1. **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å https://dashboard.photonengine.com/ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### 2. **Firewall/–ê–Ω—Ç–∏–≤–∏—Ä—É—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç Photon**
- Photon –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç—ã –∏ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Firewall/–ê–Ω—Ç–∏–≤–∏—Ä—É—Å
- –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ Unity/–≤–∞—à—É –∏–≥—Ä—É –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è Firewall

### 3. **App ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ App ID –≤ Photon Settings: `80f5435e-1e1b-42a2-a595-25539da7d0ec`
- –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.photonengine.com/
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ App ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ

### 4. **Photon —Å–µ—Ä–≤–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã**
- –†–µ–¥–∫–æ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Photon —Å–µ—Ä–≤–µ—Ä–æ–≤: https://status.photonengine.com/

### 5. **Start In Offline Mode –≤–∫–ª—é—á–µ–Ω**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: **Photon ‚Üí Pun ‚Üí Wizard ‚Üí Show Settings**
- **Start In Offline Mode**: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `‚òê` (–≤—ã–∫–ª—é—á–µ–Ω–æ)

---

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.photonengine.com/
3. –ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ App ID

1. **Photon ‚Üí Pun ‚Üí Wizard**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **App ID Realtime**: `80f5435e-1e1b-42a2-a595-25539da7d0ec`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Start In Offline Mode

1. **Photon ‚Üí Pun ‚Üí Wizard ‚Üí Show Settings**
2. **Start In Offline Mode**: `‚òê` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–∫–ª—é—á–µ–Ω–æ!)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

–í –∫–æ–Ω—Å–æ–ª–∏ Unity –∏—â–∏—Ç–µ:
- `OnDisconnected()` - –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
- –ö—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏ –æ—Ç Photon
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

---

## üîß –†–µ—à–µ–Ω–∏–µ:

### –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É

### –ï—Å–ª–∏ Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç:
- –î–æ–±–∞–≤—å—Ç–µ Unity/–≤–∞—à—É –∏–≥—Ä—É –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è Firewall
- –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ Firewall –¥–ª—è —Ç–µ—Å—Ç–∞

### –ï—Å–ª–∏ App ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.photonengine.com/
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π App ID
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ **Photon ‚Üí Pun ‚Üí Wizard**

### –ï—Å–ª–∏ Start In Offline Mode –≤–∫–ª—é—á–µ–Ω:
1. **Photon ‚Üí Pun ‚Üí Wizard ‚Üí Show Settings**
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Start In Offline Mode**: `‚òê` (–≤—ã–∫–ª—é—á–µ–Ω–æ)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É

---

## üìã –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–∫–∂–µ:

- [ ] –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç (–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç—ã)
- [ ] App ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (`80f5435e-1e1b-42a2-a595-25539da7d0ec`)
- [ ] Start In Offline Mode –≤—ã–∫–ª—é—á–µ–Ω–æ
- [ ] Firewall –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç Unity
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ `OnDisconnected()` –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## üí° –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è:

1. **–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Photon:**
   - **Photon ‚Üí Pun ‚Üí Wizard ‚Üí Show Settings**
   - **Pun Logging**: `Full` (–≤–º–µ—Å—Ç–æ `ErrorsOnly`)
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–∑–æ–≤ `OnDisconnected()`:**
   - –ï—Å–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –æ–Ω –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
   - –í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç `OnDisconnected() called! Cause: ...`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏:**
   - –ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã
   - VPN (–º–æ–∂–µ—Ç –º–µ—à–∞—Ç—å)
   - –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ñ–∞–π—Ä–≤–æ–ª

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–ö–æ–≥–¥–∞ Photon –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è, –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:

```
[PhotonNetworkManager] ‚úì OnConnectedToMaster() callback called!
[PhotonNetworkManager] Attempting to join/create room: 'MainRoom'
[PhotonNetworkManager] ‚úì OnJoinedRoom() callback called! Joined room: MainRoom
```

–¢–æ–≥–¥–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∂–µ—Ç:
- **Connected**: `‚úì YES`
- **In Room**: `‚úì YES - MainRoom`

---

## üéØ –ò—Ç–æ–≥:

–ü—Ä–æ–±–ª–µ–º–∞: `OnConnectedToMaster()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è = Photon –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º.

**–°–∞–º—ã–µ —á–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç
3. Start In Offline Mode –≤–∫–ª—é—á–µ–Ω
4. App ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø–æ –ø–æ—Ä—è–¥–∫—É - –æ–¥–Ω–∞ –∏–∑ —ç—Ç–∏—Ö –ø—Ä–∏—á–∏–Ω —Ç–æ—á–Ω–æ –≤–∏–Ω–æ–≤–∞—Ç–∞!

